"use strict";var vueDragula={install:function install(Vue,options){Vue.dnd={},Vue.dnd.dragIndex=0,Vue.dnd.initialize=function(e){var n=arguments.length<=1||void 0===arguments[1]?void 0:arguments[1],r=arguments.length<=2||void 0===arguments[2]?void 0:arguments[2],d=Object.getPrototypeOf(e).constructor.name;Vue.dnd[d]?e.drake=Vue.dnd[d]:(Vue.dnd[d]=Vue.dnd.dragulaInstance(n?n:void 0,r?r:"vertical"),e.drake=Vue.dnd[d]),e.drake.containers.push(e.$el)},Vue.dnd.destroy=function(e){var n=e.drake.containers.indexOf(e.$el);n>=0&&e.drake.containers.splice(n,1),0===e.drake.containers.length&&e.drake.destroy()},Vue.dnd.domIndexOf=function(e,n){return Array.prototype.indexOf.call(n.children,e)},Vue.dnd.buildQuery=function(e){var n="self.vm",r=!0,d=!1,a=void 0;try{for(var t,i=e[Symbol.iterator]();!(r=(t=i.next()).done);r=!0){var u=t.value;n=isNaN(u)?n+"."+u:n+"["+u+"]"}}catch(e){d=!0,a=e}finally{try{!r&&i.return&&i.return()}finally{if(d)throw a}}return n},Vue.dnd.dragulaInstance=function(){var handleParam=arguments.length<=0||void 0===arguments[0]?void 0:arguments[0],directionParam=arguments.length<=1||void 0===arguments[1]?"vertical":arguments[1],drake=dragula({accepts:function(e,n,r,d){return!(!this.containers.includes(n)||!this.containers.includes(r))},moves:function(e,n,r){return!handleParam||(!!r.classList.contains(handleParam)||!!r.parentNode.classList.contains(handleParam))},direction:directionParam});return drake.on("drag",function(e,n){Vue.dnd.dragIndex=Vue.dnd.domIndexOf(e,n)}),drake.on("drop",function(dropElem,target,source){if(target){var targetPosition=target.id.split("-"),sourcePosition=source.id.split("-");eval(Vue.dnd.buildQuery(targetPosition)).splice(Vue.dnd.domIndexOf(dropElem,target),0,eval(Vue.dnd.buildQuery(sourcePosition)).splice(Vue.dnd.dragIndex,1)[0]),Vue.ps.scrollElems&&Vue.ps.update()}}),drake}}};Vue.use(vueDragula);